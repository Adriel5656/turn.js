<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Agape 2月訊</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="turn.js"></script>

    <meta property="og:title" content="Agape 2月訊">
    <meta property="og:description" content="點擊閱讀最新的 2026 年 2 月訊翻頁電子書">
    <meta property="og:image" content="https://adriel5656.github.io/turn.js/pages/1.jpeg">
    <meta property="og:url" content="https://adriel5656.github.io/turn.js/">
    <meta property="og:type" content="website">

    <style type="text/css">
        body { background: #525252; margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; }
        #flipbook { width: 800px; height: 566px; }
        #flipbook .page { width: 400px; height: 566px; background-color: white; background-size: 100% 100%; background-repeat:no-repeat; }
        /* 讓鼠標變成手指，提示可以點擊 */
        #flipbook .page:hover { cursor: pointer; }
    </style>
</head>
<body>

<div id="flipbook"></div>

<script type="text/javascript">
    $(window).ready(function() {
        // 自動生成 12 頁
        for (var i = 1; i <= 12; i++) {
            $('#flipbook').append('<div class="page" style="background-image:url(pages/' + i + '.jpeg)"></div>');
        }

        // 初始化
        $('#flipbook').turn({
            width: 800,
            height: 566,
            autoCenter: true,
            display: 'double', // 雙頁模式
            acceleration: true,
            gradients: true,
            duration: 600, // 翻頁動畫持續 600 毫秒
            // 禁用預設的角落偵測，避免干擾自定義點擊
            turnCorners: "bl,br" 
        });

        // 【核心修正】全頁面點擊邏輯
        $('#flipbook').bind('mousedown', function(e) {
            var offset = $(this).offset();
            var relativeX = e.pageX - offset.left;
            var bookWidth = $(this).width();

            // 判斷點擊位置
            if (relativeX > bookWidth / 2) {
                // 點擊右半邊 -> 翻下一頁
                $('#flipbook').turn('next');
            } else {
                // 點擊左半邊 -> 翻上一頁
                $('#flipbook').turn('previous');
            }
        });
    });

    // 鍵盤支持
    $(window).bind('keydown', function(e) {
        if (e.keyCode == 37) $('#flipbook').turn('previous');
        else if (e.keyCode == 39) $('#flipbook').turn('next');
    });
</script>

</body>
</html>
